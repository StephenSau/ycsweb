!function(t){"use strict";function e(s,n){this.$element=t(s),this.options=t.extend({},e.DEFAULTS,n),this.$text=null,this.$facade=null,this.packSelect(),this.addAction()}function s(s){return this.each(function(){var n=t(this),a=n.data("bs.chosen"),i="object"==typeof s&&s;a||n.data("bs.chosen",a=new e(this,i)),"string"==typeof s&&a[s]()})}e.DEFAULTS={},e.prototype={addAction:function(){var e=this;this.$element.on("change",t.proxy(this.selectChange,this)).on("focus",function(){e.$facade.addClass("chosen_on_foucs")}).on("blur",function(){e.$facade.removeClass("chosen_on_foucs")}).on("chosen:update",t.proxy(this.selectChange,this)).on("chosen:change",t.proxy(this.changeStatus,this)),this.selectChange()},changeStatus:function(){this.$element.hasClass("valid")?this.$facade.removeClass("invalid").addClass("valid"):this.$element.hasClass("invalid")&&this.$facade.removeClass("valid").addClass("invalid")},selectChange:function(){var t=0,e=0,s=this.$element[0],n=s.value||s.getAttribute("value");if(0!==this.options.length&&(this.$text.text(s.options[s.selectedIndex].text),n))for(t=0,e=s.options.length;e>t;t+=1)s.options[t].value===n&&(this.$text.text(s.options[t].text),s.options[t].setAttribute("selected","true"))},packSelect:function(){var e=this.$element.outerWidth(),s=this.$element.attr("id")+"_text",n=this.$element[0].className,a=this.$element.wrap('<span class="chosen'+(n?" "+n:"")+'" style="width:'+e+'px;"></span>').parent();this.$element.attr("data-target",s),this.$facade=t('<span class="chosen_facade" style="width:'+(e-5-20-2)+'px"></span>'),this.$text=t('<em class="chosen_selected_text" id="'+s+'">请选择</em>'),this.$facade.append(this.$text).append('<i class="chosen_arrow_icon"></i>'),t(this.$facade).prependTo(a),this.$text=a.find(".chosen_selected_text"),this.$element.addClass("chosn_options")}};var n=t.fn.chosen;t.fn.chosen=s,t.fn.chosen.Constructor=e,t.fn.chosen.noConflict=function(){return t.fn.chosen=n,this},t(window).on("load",function(){t('[data-spy="chosen"]').each(function(){var e=t(this),n=e.data();s.call(e,n)})})}(window.jQuery);